(function(a){a.fn.ascii=function(b){var c=[];var d=[];var e="<br/>";var f="&nbsp;";if(b=="raw"){e="\n";f=" "}this.find("th").each(function(){d[d.length]=a(this).html()});this.find("tr").each(function(){var b=[];a(this).find("td").each(function(){b[b.length]=a(this).html()});if(b.length==d.length)c[c.length]=b});var g=[];for(var h in d){g[h]=d[h].length;for(var i in c){if(c[i][h].length>g[h]){g[h]=c[i][h].length}}}var j=function(a,b){if(b>0)return(new Array(b+1)).join(a);return""};var k=function(a){var b="";for(var c in a){b+="| "+a[c]+j(f,1+g[c]-a[c].length)}return b+"|"+e};var l=d.length-1;for(var m in g){l+=g[m]+2}var n="+"+j("-",l)+"+"+e;n+=k(d);n+="+"+j("-",l)+"+"+e;for(var i in c){n+=k(c[i])}n+="+"+j("-",l)+"+"+e;return n}})(jQuery)